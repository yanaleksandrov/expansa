document.addEventListener("alpine:init",(()=>{const e=(e,t,o)=>{const n=new URL(window.location.href),a=new URLSearchParams(n.search);o?a.delete(e):a.set(e,t),n.search=a.toString(),window.history.replaceState({},"",n.toString())},t=(t,o={},n="expansa-dialog")=>{setTimeout((()=>{let a=document.querySelector(`#${t}`),i=document.querySelector(`#${n}`);if(i&&a){let n=i.querySelector("[data-content]");n&&(n.innerHTML=a.innerHTML),Alpine.store("dialog",o),i.classList.add("active"),document.body.style.overflow="hidden",e("dialog",t,!1);const l=()=>{e("dialog",null,!0),i.removeEventListener("close",l)};i.addEventListener("close",l)}}),25)};Alpine.magic("dialog",(e=>({init:async o=>{const n=new URL(window.location.href),a=new URLSearchParams(n.search).get("dialog");if(e?.id===a&&a&&o){let e=await o();e&&t(a,e,"expansa-dialog")}},open:(e,o={},n)=>{t(e,o,n)},close:(t="expansa-dialog")=>{let o=document.querySelector(`#${t}`)||e.closest("dialog");o&&(o.classList.remove("active"),document.body.style.overflow="")}})))}));